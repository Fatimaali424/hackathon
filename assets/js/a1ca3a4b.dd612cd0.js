"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[9747],{8453(e,n,i){i.d(n,{R:()=>r,x:()=>s});var o=i(6540);const t={},a=o.createContext(t);function r(e){const n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(a.Provider,{value:n},e.children)}},9592(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"module-2/lab-4-robot-model","title":"Lab 4: Basic Robot Model and Simulation","description":"Overview","source":"@site/docs/module-2/lab-4-robot-model.md","sourceDirName":"module-2","slug":"/module-2/lab-4-robot-model","permalink":"/hackathon/docs/module-2/lab-4-robot-model","draft":false,"unlisted":false,"editUrl":"https://github.com/Fatimaali424/hackathon/edit/main/website/docs/module-2/lab-4-robot-model.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Sim-to-Real Transfer Challenges","permalink":"/hackathon/docs/module-2/sim-to-real"},"next":{"title":"Lab 5: Advanced Sensor Simulation","permalink":"/hackathon/docs/module-2/lab-5-sensor-simulation"}}');var t=i(4848),a=i(8453);const r={sidebar_position:7},s="Lab 4: Basic Robot Model and Simulation",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Hardware/Software Requirements",id:"hardwaresoftware-requirements",level:2},{value:"Lab Duration",id:"lab-duration",level:2},{value:"Part 1: Creating the Robot URDF Model",id:"part-1-creating-the-robot-urdf-model",level:2},{value:"Step 1: Project Setup",id:"step-1-project-setup",level:3},{value:"Step 2: Basic Robot Structure",id:"step-2-basic-robot-structure",level:3},{value:"Step 3: Gazebo Integration",id:"step-3-gazebo-integration",level:3},{value:"Step 4: Combined URDF with Xacro",id:"step-4-combined-urdf-with-xacro",level:3},{value:"Part 2: Creating Launch Files",id:"part-2-creating-launch-files",level:2},{value:"Step 5: Robot State Publisher Launch",id:"step-5-robot-state-publisher-launch",level:3},{value:"Step 6: Gazebo Launch File",id:"step-6-gazebo-launch-file",level:3},{value:"Part 3: Building and Testing the Robot Model",id:"part-3-building-and-testing-the-robot-model",level:2},{value:"Step 7: Package.xml Configuration",id:"step-7-packagexml-configuration",level:3},{value:"Step 8: CMakeLists.txt Configuration",id:"step-8-cmakeliststxt-configuration",level:3},{value:"Step 9: Building the Package",id:"step-9-building-the-package",level:3},{value:"Step 10: Testing the Robot Model",id:"step-10-testing-the-robot-model",level:3},{value:"Part 4: Running the Simulation",id:"part-4-running-the-simulation",level:2},{value:"Step 11: Launch Gazebo Simulation",id:"step-11-launch-gazebo-simulation",level:3},{value:"Step 12: Controlling the Robot",id:"step-12-controlling-the-robot",level:3},{value:"Step 13: Viewing Sensor Data",id:"step-13-viewing-sensor-data",level:3},{value:"Part 5: Debugging and Troubleshooting",id:"part-5-debugging-and-troubleshooting",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Debugging Commands",id:"debugging-commands",level:3},{value:"Lab Assignment",id:"lab-assignment",level:2},{value:"Task 1: Modify the Robot Model",id:"task-1-modify-the-robot-model",level:3},{value:"Task 2: Create a Custom Environment",id:"task-2-create-a-custom-environment",level:3},{value:"Task 3: Add Additional Sensors",id:"task-3-add-additional-sensors",level:3},{value:"Summary",id:"summary",level:2},{value:"Additional Resources",id:"additional-resources",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"lab-4-basic-robot-model-and-simulation",children:"Lab 4: Basic Robot Model and Simulation"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"This lab provides hands-on experience in creating a basic robot model and setting up a simulation environment in Gazebo. You will learn to define robot geometry, configure physical properties, and create a functional simulation that can be controlled through ROS 2."}),"\n",(0,t.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(n.p,{children:"After completing this lab, you will be able to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Create a URDF robot model with proper kinematic and dynamic properties"}),"\n",(0,t.jsx)(n.li,{children:"Configure Gazebo simulation parameters for the robot model"}),"\n",(0,t.jsx)(n.li,{children:"Launch and visualize the robot in Gazebo simulation environment"}),"\n",(0,t.jsx)(n.li,{children:"Control the robot using ROS 2 commands and visualize sensor data"}),"\n",(0,t.jsx)(n.li,{children:"Debug common issues in robot simulation setup"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Completion of Module 1: The Robotic Nervous System (ROS 2)"}),"\n",(0,t.jsx)(n.li,{children:"Understanding of ROS 2 concepts including topics, nodes, and launch files"}),"\n",(0,t.jsx)(n.li,{children:"Basic understanding of coordinate systems and transformations"}),"\n",(0,t.jsx)(n.li,{children:"Familiarity with Gazebo concepts from Chapter 1 (Gazebo Simulation & Physics Modeling)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"hardwaresoftware-requirements",children:"Hardware/Software Requirements"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Ubuntu 22.04 LTS"}),"\n",(0,t.jsx)(n.li,{children:"ROS 2 Humble Hawksbill"}),"\n",(0,t.jsx)(n.li,{children:"Gazebo Fortress (Ignition)"}),"\n",(0,t.jsx)(n.li,{children:"Basic text editor or IDE"}),"\n",(0,t.jsx)(n.li,{children:"Minimum 8GB RAM recommended"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"lab-duration",children:"Lab Duration"}),"\n",(0,t.jsx)(n.p,{children:"Estimated completion time: 2-3 hours"}),"\n",(0,t.jsx)(n.h2,{id:"part-1-creating-the-robot-urdf-model",children:"Part 1: Creating the Robot URDF Model"}),"\n",(0,t.jsx)(n.h3,{id:"step-1-project-setup",children:"Step 1: Project Setup"}),"\n",(0,t.jsx)(n.p,{children:"First, let's create a workspace for our robot model:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Create workspace directory\nmkdir -p ~/robotics_ws/src\ncd ~/robotics_ws/src\n\n# Create robot description package\nros2 pkg create --build-type ament_cmake robot_description --dependencies urdf xacro\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-2-basic-robot-structure",children:"Step 2: Basic Robot Structure"}),"\n",(0,t.jsx)(n.p,{children:"Create the main URDF file for our simple differential drive robot:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'\x3c!-- File: ~/robotics_ws/src/robot_description/urdf/simple_robot.urdf --\x3e\n<?xml version="1.0"?>\n<robot name="simple_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Base Link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.3 0.15"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 0.8 1"/>\n      </material>\n    </visual>\n\n    <collision>\n      <geometry>\n        <box size="0.5 0.3 0.15"/>\n      </geometry>\n    </collision>\n\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.0125" ixy="0" ixz="0" iyy="0.0208" iyz="0" izz="0.0333"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Left Wheel --\x3e\n  <link name="left_wheel">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black">\n        <color rgba="0 0 0 1"/>\n      </material>\n    </visual>\n\n    <collision>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n    </collision>\n\n    <inertial>\n      <mass value="0.2"/>\n      <inertia ixx="0.0005" ixy="0" ixz="0" iyy="0.0005" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Right Wheel --\x3e\n  <link name="right_wheel">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black">\n        <color rgba="0 0 0 1"/>\n      </material>\n    </visual>\n\n    <collision>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n    </collision>\n\n    <inertial>\n      <mass value="0.2"/>\n      <inertia ixx="0.0005" ixy="0" ixz="0" iyy="0.0005" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Camera Link --\x3e\n  <link name="camera_link">\n    <visual>\n      <geometry>\n        <box size="0.05 0.05 0.05"/>\n      </geometry>\n      <material name="red">\n        <color rgba="0.8 0 0 1"/>\n      </material>\n    </visual>\n\n    <collision>\n      <geometry>\n        <box size="0.05 0.05 0.05"/>\n      </geometry>\n    </collision>\n\n    <inertial>\n      <mass value="0.05"/>\n      <inertia ixx="0.00001" ixy="0" ixz="0" iyy="0.00001" iyz="0" izz="0.00001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joints --\x3e\n  <joint name="left_wheel_joint" type="continuous">\n    <parent link="base_link"/>\n    <child link="left_wheel"/>\n    <origin xyz="0 0.2 -0.05" rpy="1.5708 0 0"/>\n    <axis xyz="0 0 1"/>\n  </joint>\n\n  <joint name="right_wheel_joint" type="continuous">\n    <parent link="base_link"/>\n    <child link="right_wheel"/>\n    <origin xyz="0 -0.2 -0.05" rpy="1.5708 0 0"/>\n    <axis xyz="0 0 1"/>\n  </joint>\n\n  <joint name="camera_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="camera_link"/>\n    <origin xyz="0.2 0 0.1" rpy="0 0 0"/>\n  </joint>\n\n</robot>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"step-3-gazebo-integration",children:"Step 3: Gazebo Integration"}),"\n",(0,t.jsx)(n.p,{children:"Create a Gazebo-specific version of the robot model with plugins:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'\x3c!-- File: ~/robotics_ws/src/robot_description/urdf/simple_robot.gazebo.xacro --\x3e\n<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Gazebo plugin for differential drive --\x3e\n  <gazebo>\n    <plugin filename="libgazebo_ros_diff_drive.so" name="diff_drive">\n      <left_joint>left_wheel_joint</left_joint>\n      <right_joint>right_wheel_joint</right_joint>\n      <wheel_separation>0.4</wheel_separation>\n      <wheel_diameter>0.2</wheel_diameter>\n      <max_wheel_torque>20</max_wheel_torque>\n      <max_wheel_acceleration>1.0</max_wheel_acceleration>\n      <command_topic>cmd_vel</command_topic>\n      <odometry_topic>odom</odometry_topic>\n      <odometry_frame>odom</odometry_frame>\n      <robot_base_frame>base_link</robot_base_frame>\n      <publish_odom>true</publish_odom>\n      <publish_wheel_tf>true</publish_wheel_tf>\n      <publish_odom_tf>true</publish_odom_tf>\n      <odometry_source>world</odometry_source>\n    </plugin>\n  </gazebo>\n\n  \x3c!-- Camera plugin --\x3e\n  <gazebo reference="camera_link">\n    <sensor name="camera" type="camera">\n      <camera>\n        <horizontal_fov>1.047</horizontal_fov>\n        <image>\n          <width>640</width>\n          <height>480</height>\n          <format>R8G8B8</format>\n        </image>\n        <clip>\n          <near>0.1</near>\n          <far>10.0</far>\n        </clip>\n      </camera>\n      <always_on>1</always_on>\n      <update_rate>30</update_rate>\n      <visualize>true</visualize>\n      <topic>camera/image_raw</topic>\n    </sensor>\n  </gazebo>\n\n  \x3c!-- Color materials --\x3e\n  <gazebo reference="base_link">\n    <material>Gazebo/Blue</material>\n  </gazebo>\n\n  <gazebo reference="left_wheel">\n    <material>Gazebo/Black</material>\n  </gazebo>\n\n  <gazebo reference="right_wheel">\n    <material>Gazebo/Black</material>\n  </gazebo>\n\n  <gazebo reference="camera_link">\n    <material>Gazebo/Red</material>\n  </gazebo>\n\n</robot>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"step-4-combined-urdf-with-xacro",children:"Step 4: Combined URDF with Xacro"}),"\n",(0,t.jsx)(n.p,{children:"Create a combined URDF using Xacro for cleaner organization:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'\x3c!-- File: ~/robotics_ws/src/robot_description/urdf/robot.xacro --\x3e\n<?xml version="1.0"?>\n<robot name="simple_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Properties --\x3e\n  <xacro:property name="base_width" value="0.5"/>\n  <xacro:property name="base_length" value="0.3"/>\n  <xacro:property name="base_height" value="0.15"/>\n  <xacro:property name="wheel_radius" value="0.1"/>\n  <xacro:property name="wheel_width" value="0.05"/>\n  <xacro:property name="wheel_separation" value="0.4"/>\n  <xacro:property name="wheel_offset" value="0.05"/>\n\n  \x3c!-- Base Link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="${base_width} ${base_length} ${base_height}"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 0.8 1"/>\n      </material>\n    </visual>\n\n    <collision>\n      <geometry>\n        <box size="${base_width} ${base_length} ${base_height}"/>\n      </geometry>\n    </collision>\n\n    <inertial>\n      <mass value="1.0"/>\n      <inertia\n        ixx="0.0125" ixy="0" ixz="0"\n        iyy="0.0208" iyz="0" izz="0.0333"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Macro for wheels --\x3e\n  <xacro:macro name="wheel" params="prefix *joint_origin">\n    <link name="${prefix}_wheel">\n      <visual>\n        <geometry>\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\n        </geometry>\n        <material name="black">\n          <color rgba="0 0 0 1"/>\n        </material>\n      </visual>\n\n      <collision>\n        <geometry>\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\n        </geometry>\n      </collision>\n\n      <inertial>\n        <mass value="0.2"/>\n        <inertia\n          ixx="0.0005" ixy="0" ixz="0"\n          iyy="0.0005" iyz="0" izz="0.001"/>\n      </inertial>\n    </link>\n\n    <joint name="${prefix}_wheel_joint" type="continuous">\n      <parent link="base_link"/>\n      <child link="${prefix}_wheel"/>\n      <xacro:insert_block name="joint_origin"/>\n      <axis xyz="0 0 1"/>\n    </joint>\n  </xacro:macro>\n\n  \x3c!-- Wheels --\x3e\n  <xacro:wheel prefix="left">\n    <origin xyz="0 ${wheel_separation/2} -${wheel_offset}" rpy="1.5708 0 0"/>\n  </xacro:wheel>\n\n  <xacro:wheel prefix="right">\n    <origin xyz="0 -${wheel_separation/2} -${wheel_offset}" rpy="1.5708 0 0"/>\n  </xacro:wheel>\n\n  \x3c!-- Camera --\x3e\n  <link name="camera_link">\n    <visual>\n      <geometry>\n        <box size="0.05 0.05 0.05"/>\n      </geometry>\n      <material name="red">\n        <color rgba="0.8 0 0 1"/>\n      </material>\n    </visual>\n\n    <collision>\n      <geometry>\n        <box size="0.05 0.05 0.05"/>\n      </geometry>\n    </collision>\n\n    <inertial>\n      <mass value="0.05"/>\n      <inertia\n        ixx="0.00001" ixy="0" ixz="0"\n        iyy="0.00001" iyz="0" izz="0.00001"/>\n    </inertial>\n  </link>\n\n  <joint name="camera_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="camera_link"/>\n    <origin xyz="${base_width/2-0.025} 0 ${base_height/2}" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Include Gazebo-specific configurations --\x3e\n  <xacro:include filename="$(find robot_description)/urdf/robot.gazebo.xacro"/>\n\n</robot>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"part-2-creating-launch-files",children:"Part 2: Creating Launch Files"}),"\n",(0,t.jsx)(n.h3,{id:"step-5-robot-state-publisher-launch",children:"Step 5: Robot State Publisher Launch"}),"\n",(0,t.jsx)(n.p,{children:"Create a launch file to publish robot state:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# File: ~/robotics_ws/src/robot_description/launch/robot_state_publisher.launch.py\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\nfrom ament_index_python.packages import get_package_share_directory\nimport os\n\ndef generate_launch_description():\n    # Declare launch arguments\n    use_sim_time = LaunchConfiguration('use_sim_time', default='false')\n    robot_description_path = os.path.join(\n        get_package_share_directory('robot_description'),\n        'urdf',\n        'robot.xacro'\n    )\n\n    # Read robot description from file\n    with open(robot_description_path, 'r') as infp:\n        robot_description = infp.read()\n\n    # Robot state publisher node\n    robot_state_publisher = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        name='robot_state_publisher',\n        output='screen',\n        parameters=[{\n            'use_sim_time': use_sim_time,\n            'robot_description': robot_description\n        }]\n    )\n\n    return LaunchDescription([\n        DeclareLaunchArgument(\n            'use_sim_time',\n            default_value='false',\n            description='Use simulation (Gazebo) clock if true'),\n        robot_state_publisher\n    ])\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-6-gazebo-launch-file",children:"Step 6: Gazebo Launch File"}),"\n",(0,t.jsx)(n.p,{children:"Create a launch file to spawn the robot in Gazebo:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# File: ~/robotics_ws/src/robot_description/launch/spawn_robot.launch.py\nfrom launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription, DeclareLaunchArgument\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\nfrom launch_ros.actions import Node\nfrom launch_ros.substitutions import FindPackageShare\nimport os\n\ndef generate_launch_description():\n    # Declare launch arguments\n    use_sim_time = LaunchConfiguration('use_sim_time', default='true')\n\n    # Paths\n    pkg_gazebo_ros = FindPackageShare('ros_gz_sim')\n    robot_description_path = PathJoinSubstitution([\n        FindPackageShare('robot_description'),\n        'urdf',\n        'robot.xacro'\n    ])\n\n    # Launch Gazebo\n    gazebo = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource([\n            PathJoinSubstitution([\n                FindPackageShare('ros_gz_sim'),\n                'launch',\n                'gz_sim.launch.py'\n            ])\n        ]),\n        launch_arguments={\n            'gz_args': '-r empty.sdf'  # Launch with empty world\n        }.items()\n    )\n\n    # Read robot description\n    with open(os.path.join(\n        FindPackageShare('robot_description').perform({}),\n        'urdf',\n        'robot.xacro'\n    ), 'r') as infp:\n        robot_description = infp.read()\n\n    # Robot state publisher\n    robot_state_publisher = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        name='robot_state_publisher',\n        output='screen',\n        parameters=[{\n            'use_sim_time': use_sim_time,\n            'robot_description': robot_description\n        }]\n    )\n\n    # Spawn entity\n    spawn_entity = Node(\n        package='ros_gz_sim',\n        executable='spawn_entity.py',\n        arguments=[\n            '-topic', 'robot_description',\n            '-entity', 'simple_robot',\n            '-x', '0.0',\n            '-y', '0.0',\n            '-z', '0.5'\n        ],\n        output='screen'\n    )\n\n    return LaunchDescription([\n        DeclareLaunchArgument(\n            'use_sim_time',\n            default_value='true',\n            description='Use simulation (Gazebo) clock if true'),\n        gazebo,\n        robot_state_publisher,\n        spawn_entity\n    ])\n"})}),"\n",(0,t.jsx)(n.h2,{id:"part-3-building-and-testing-the-robot-model",children:"Part 3: Building and Testing the Robot Model"}),"\n",(0,t.jsx)(n.h3,{id:"step-7-packagexml-configuration",children:"Step 7: Package.xml Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Update the package.xml file to include necessary dependencies:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\n<package format="3">\n  <name>robot_description</name>\n  <version>0.0.0</version>\n  <description>Robot description package for simple robot model</description>\n  <maintainer email="user@todo.todo">user</maintainer>\n  <license>Apache-2.0</license>\n\n  <buildtool_depend>ament_cmake</buildtool_depend>\n\n  <depend>urdf</depend>\n  <depend>xacro</depend>\n  <depend>robot_state_publisher</depend>\n  <depend>ros_gz_sim</depend>\n\n  <exec_depend>launch</exec_depend>\n  <exec_depend>launch_ros</exec_depend>\n\n  <test_depend>ament_lint_auto</test_depend>\n  <test_depend>ament_lint_common</test_depend>\n\n  <export>\n    <build_type>ament_cmake</build_type>\n  </export>\n</package>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"step-8-cmakeliststxt-configuration",children:"Step 8: CMakeLists.txt Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Update the CMakeLists.txt file:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.8)\nproject(robot_description)\n\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")\n  add_compile_options(-Wall -Wextra -Wpedantic)\nendif()\n\n# Find dependencies\nfind_package(ament_cmake REQUIRED)\nfind_package(urdf REQUIRED)\nfind_package(xacro REQUIRED)\n\n# Install launch files\ninstall(DIRECTORY\n  launch\n  urdf\n  DESTINATION share/${PROJECT_NAME}\n)\n\n# Install other files\ninstall(PROGRAMS\n  DESTINATION lib/${PROJECT_NAME}\n)\n\nif(BUILD_TESTING)\n  find_package(ament_lint_auto REQUIRED)\n  set(ament_cmake_copyright_FOUND TRUE)\n  set(ament_cmake_flake8_FOUND TRUE)\n  set(ament_cmake_pep257_FOUND TRUE)\n  ament_lint_auto_find_test_dependencies()\nendif()\n\nament_package()\n'})}),"\n",(0,t.jsx)(n.h3,{id:"step-9-building-the-package",children:"Step 9: Building the Package"}),"\n",(0,t.jsx)(n.p,{children:"Build the robot description package:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd ~/robotics_ws\ncolcon build --packages-select robot_description\nsource install/setup.bash\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-10-testing-the-robot-model",children:"Step 10: Testing the Robot Model"}),"\n",(0,t.jsx)(n.p,{children:"Test the URDF model in RViz:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Source the workspace\nsource ~/robotics_ws/install/setup.bash\n\n# Launch robot state publisher\nros2 launch robot_description robot_state_publisher.launch.py\n"})}),"\n",(0,t.jsx)(n.p,{children:"In another terminal, visualize the robot:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Install and run RViz if not already installed\nsudo apt install ros-humble-rviz2\n\n# Run RViz\nrviz2\n"})}),"\n",(0,t.jsxs)(n.p,{children:["In RViz, add a RobotModel display and set the Robot Description to ",(0,t.jsx)(n.code,{children:"/robot_description"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"part-4-running-the-simulation",children:"Part 4: Running the Simulation"}),"\n",(0,t.jsx)(n.h3,{id:"step-11-launch-gazebo-simulation",children:"Step 11: Launch Gazebo Simulation"}),"\n",(0,t.jsx)(n.p,{children:"Launch the robot in Gazebo:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Source the workspace\nsource ~/robotics_ws/install/setup.bash\n\n# Launch the robot in Gazebo\nros2 launch robot_description spawn_robot.launch.py\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-12-controlling-the-robot",children:"Step 12: Controlling the Robot"}),"\n",(0,t.jsx)(n.p,{children:"In a new terminal, send velocity commands to the robot:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Source the workspace\nsource ~/robotics_ws/install/setup.bash\n\n# Send a velocity command to move the robot forward\nros2 topic pub /cmd_vel geometry_msgs/Twist "linear:\n  x: 0.5\n  y: 0.0\n  z: 0.0\nangular:\n  x: 0.0\n  y: 0.0\n  z: 0.0"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Or use the teleop_twist_keyboard package for interactive control:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Install teleop package if not already installed\nsudo apt install ros-humble-teleop-twist-keyboard\n\n# Run teleop\nros2 run teleop_twist_keyboard teleop_twist_keyboard\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-13-viewing-sensor-data",children:"Step 13: Viewing Sensor Data"}),"\n",(0,t.jsx)(n.p,{children:"Check the camera feed from the robot:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Source the workspace\nsource ~/robotics_ws/install/setup.bash\n\n# View camera image\nrqt_image_view /camera/image_raw\n"})}),"\n",(0,t.jsx)(n.h2,{id:"part-5-debugging-and-troubleshooting",children:"Part 5: Debugging and Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Robot not showing in Gazebo"}),": Check that the URDF is valid and all links/joints are properly defined."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Robot falls through the ground"}),": Verify inertial properties and collision geometries."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"No response to velocity commands"}),": Check that the diff_drive plugin is properly configured and topics are connected."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"TF errors"}),": Ensure all frames are properly connected in the URDF."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"debugging-commands",children:"Debugging Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Check TF tree\nros2 run tf2_tools view_frames\n\n# Echo TF transforms\nros2 topic echo /tf\n\n# Check robot description\nros2 param get /robot_state_publisher robot_description\n\n# List all topics\nros2 topic list\n"})}),"\n",(0,t.jsx)(n.h2,{id:"lab-assignment",children:"Lab Assignment"}),"\n",(0,t.jsx)(n.h3,{id:"task-1-modify-the-robot-model",children:"Task 1: Modify the Robot Model"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add a simple gripper to the front of the robot"}),"\n",(0,t.jsx)(n.li,{children:"Adjust the mass and inertia properties to account for the new component"}),"\n",(0,t.jsx)(n.li,{children:"Verify that the simulation still works properly"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"task-2-create-a-custom-environment",children:"Task 2: Create a Custom Environment"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Create a simple world file with obstacles"}),"\n",(0,t.jsx)(n.li,{children:"Modify the launch file to use your custom world"}),"\n",(0,t.jsx)(n.li,{children:"Test the robot's navigation in the new environment"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"task-3-add-additional-sensors",children:"Task 3: Add Additional Sensors"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add an IMU sensor to the robot"}),"\n",(0,t.jsx)(n.li,{children:"Add a LIDAR sensor to the robot"}),"\n",(0,t.jsx)(n.li,{children:"Verify that sensor data is published correctly"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(n.p,{children:"In this lab, you created a complete robot model with proper URDF definition, configured Gazebo simulation with appropriate plugins, and successfully launched the robot in simulation. You learned how to control the robot using ROS 2 commands and visualize its sensor data. This foundation will be essential for more advanced robotics applications in subsequent modules."}),"\n",(0,t.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://wiki.ros.org/urdf/Tutorials",children:"ROS URDF Tutorials"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://gazebosim.org/tutorials",children:"Gazebo Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://wiki.ros.org/xacro",children:"Xacro Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://control.ros.org/",children:"ROS 2 Control Documentation"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(n.p,{children:"After completing this lab, you should:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Understand the structure of robot models in ROS 2"}),"\n",(0,t.jsx)(n.li,{children:"Be able to create and simulate custom robot models"}),"\n",(0,t.jsx)(n.li,{children:"Have experience with Gazebo simulation setup"}),"\n",(0,t.jsx)(n.li,{children:"Be ready to proceed to Lab 5: Advanced Sensor Simulation"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);